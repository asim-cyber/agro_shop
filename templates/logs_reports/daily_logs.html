{% extends "base.html" %}
{% block content %}
<style>
  body {
    background-color: #eef1f5;
  }

  .card {
    background: #fff;
    border: 1px solid #d1d5db;
    border-radius: 8px;
  }

  .card-header {
    background: #fff;
    border-bottom: 1px solid #d1d5db;
    text-align: center;
    padding: 1rem 1.5rem;
  }

  .card-header h4 {
    color: #1e293b;
    font-weight: 600;
    margin: 0;
  }

  .card-header small {
    color: #6b7280;
    font-weight: 500;
    margin-left: 0.5rem;
  }

  .filter-section {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    justify-content: space-between;
    padding: 1rem 1.5rem;
    border-bottom: 1px solid #d1d5db;
    background-color: #f9fafb;
  }

  .filter-section .form-label {
    font-weight: 600;
    color: #1e293b;
  }

  .form-control, select {
    border-radius: 6px;
    border: 1px solid #cbd5e1;
    box-shadow: none;
  }

  .form-control:focus, select:focus {
    border-color: #00d084;
    box-shadow: 0 0 0 0.2rem rgba(0, 208, 132, 0.25);
  }

  table {
    width: 100%;
    border-collapse: collapse;
    background: #fff;
  }

  thead th {
    background: #f9fafb;
    border-bottom: 1px solid #d1d5db;
    padding: 0.75rem;
    color: #334155;
    font-weight: 600;
    text-align: center;
  }

  tbody td {
    border-bottom: 1px solid #e2e8f0;
    padding: 0.75rem;
    color: #1e293b;
    text-align: center;
  }

  .no-logs {
    text-align: center;
    color: #6b7280;
    padding: 1rem;
  }

  @media (max-width: 768px) {
    .filter-section {
      flex-direction: column;
      align-items: flex-start;
      gap: 0.75rem;
    }
  }
</style>

<div class="container my-5">
  <div class="card shadow-sm">
    <!-- Header -->
    <div class="card-header">
      <h4>Monthly Stock Logs <small>| {{ current_month }} {{ current_year }}</small></h4>
    </div>

    <!-- Filter Section -->
    <div class="filter-section">
      <div class="d-flex flex-column flex-md-row align-items-md-center gap-3 w-100">
        <div class="flex-grow-1">
          <label for="search" class="form-label mb-1">Search</label>
          <input type="text" id="search" class="form-control" placeholder="Search...">
        </div>
        <div>
          <label for="filterMonth" class="form-label mb-1">Filter By Month</label>
          <select id="filterMonth" class="form-control">
            <option selected>{{ current_month }}</option>
            <option>January</option>
            <option>February</option>
            <option>March</option>
            <option>April</option>
            <option>May</option>
            <option>June</option>
            <option>July</option>
            <option>August</option>
            <option>September</option>
            <option>October</option>
            <option>November</option>
            <option>December</option>
          </select>
        </div>
        <div class="text-md-end mt-3 mt-md-0">
          <span class="fw-semibold text-dark">Logs Date:</span> {{ current_month }} {{ current_year }}
          <span class="mx-2 text-muted">|</span>
          <span class="fw-semibold text-dark">Total Price:</span> Rs. 0
        </div>
      </div>
    </div>

    <!-- Table -->
    <div class="table-responsive">
      <table class="mb-0">
        <thead>
          <tr>
            <th>Item Name</th>
            <th>No. of Invoices</th>
            <th>Stock Out</th>
          </tr>
        </thead>
        <tbody>
          {% if logs %}
            {% for log in logs %}
            <tr>
              <td>{{ log.item_name }}</td>
              <td>{{ log.invoices_count }}</td>
              <td>{{ log.stock_out }}</td>
            </tr>
            {% endfor %}
          {% else %}
            <tr>
              <td colspan="3" class="no-logs">No Logs Found</td>
            </tr>
          {% endif %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock %}
