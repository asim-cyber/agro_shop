{% extends "base.html" %}
{% block content %}
<div class="container py-5">
  <div class="card border rounded-3 mx-auto" style="max-width: 900px; background-color: #ffffff;">
    <div class="card-body p-4">

      <h3 class="text-center fw-bold mb-4" style="color: #333;">Expense List</h3>

      <!-- Search Form -->
      <form method="get" action="" class="d-flex justify-content-between align-items-center mb-3 flex-wrap gap-2">
        <input
          type="date"
          name="date"
          class="form-control"
          style="max-width: 250px;"
          value="{{ request.GET.date }}"
        />
        <button type="submit" class="btn btn-primary px-4">Search</button>
      </form>

      <!-- Expense Table -->
      <div class="table-responsive">
        <table class="table table-bordered align-middle">
          <thead style="background-color: #f1f3f5; color: #333;">
            <tr class="text-center">
              <th>Amount</th>
              <th>Description</th>
              <th>Date</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
            {% for expense in expenses %}
            <tr class="text-center">
              <td>{{ expense.amount }}</td>
              <td>{{ expense.description }}</td>
              <td>{{ expense.date|date:"M. d, Y" }}</td>
              <td>
                <a href="{% url 'expenses:update_expense' expense.id %}" class="btn btn-sm btn-primary">Update</a>
                <a href="{% url 'expenses:delete_expense' expense.id %}" class="btn btn-sm btn-danger">Delete</a>
              </td>
            </tr>
            {% empty %}
            <tr>
              <td colspan="4" class="text-center text-muted py-4">No expenses found.</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>

      <div class="text-center mt-3">
        <a href="{% url 'expenses:add_expense' %}" class="btn btn-outline-secondary w-100">
          âž• Add New Expense
        </a>
      </div>
    </div>
  </div>
</div>

<!-- Custom Styles -->
<style>
  body {
    background-color: #eef1f5;
  }

  .card {
    box-shadow: none !important;
    border: 1px solid #dee2e6 !important;
  }

  table th,
  table td {
    vertical-align: middle !important;
  }

  .btn-primary {
    background-color: #2f78c4 !important;
    border: none !important;
  }

  .btn-primary:hover {
    background-color: #2566a8 !important;
  }

  .btn-outline-secondary {
    border-color: #ccc !important;
    color: #333 !important;
  }

  .btn-outline-secondary:hover {
    background-color: #e9ecef !important;
  }

  @media (max-width: 768px) {
    form {
      flex-direction: column !important;
      align-items: stretch !important;
    }
    input[type="date"] {
      width: 100% !important;
    }
  }
</style>
{% endblock %}
